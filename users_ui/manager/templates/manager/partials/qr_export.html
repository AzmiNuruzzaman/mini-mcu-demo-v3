{% load static %}

<div class="bg-white rounded-lg shadow p-6">
    <h4 class="font-semibold mb-4">Export QR Codes</h4>
    
    {% if employees %}
    <form action="{% url 'manager:qr_codes' %}" method="get" class="mb-4">
        <div class="mb-3">
            <label for="uid" class="block mb-2 font-medium">Pilih Karyawan:</label>
            <select name="uid" id="uid" class="select2 border px-2 py-1 rounded w-full" required>
                <option value="">Pilih Karyawan</option>
                {% for employee in employees %}
                    <option value="{{ employee.uid }}">{{ employee.nama }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="flex space-x-2">
            <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
                Lihat QR Code
            </button>
        </div>
    </form>

    <form action="{% url 'manager:qr_codes' %}" method="get" class="mt-4">
        <input type="hidden" name="bulk" value="1"/>
        <button type="submit" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">
            Export Semua QR Code (Bulk)
        </button>
    </form>

    <p class="mt-4 text-sm text-gray-500">
        Anda dapat mengekspor QR code untuk satu karyawan atau semua karyawan sekaligus.
    </p>
    {% else %}
    <div class="bg-yellow-50 border border-yellow-200 rounded p-4">
        <p class="text-yellow-800">
            Tidak ada data karyawan yang tersedia. Silakan upload data karyawan terlebih dahulu melalui menu Upload / Export Data.
        </p>
    </div>
    {% endif %}
</div>
